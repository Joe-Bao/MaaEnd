{
    "ItemTransferMain": {
        "doc": "ã€ä¸»å…¥å£ã€‘è°ƒåº¦ä¸­å¿ƒã€‚å¾ªç¯æ£€æµ‹å½“å‰æ˜¯åœ¨èµ·ç‚¹è¿˜æ˜¯ç»ˆç‚¹ï¼Œå¹¶åˆ†å‘ä»»åŠ¡ã€‚",
        "recognition": "DirectHit",
        "$__mpe_code": {
            "position": {
                "x": -34,
                "y": 128
            }
        },
        "next": [
            "ItemTransferTaskSuccess",
            "ItemTransferAtOrigin",
            "[JumpBack]ItemTransferEnterRegionSwitcher",
            "ItemTransferClickOrigin"
        ]
    },
    "ItemTransferToBackpack": {
        "post_wait_freezes": 100,
        "recognition": {
            "type": "Custom",
            "param": {
                "custom_recognition": "LocateItemInRepository",
                "custom_recognition_param": {
                    "ItemName": "{ItemParName}",
                    "Category": "{CategoryParName}"
                }
            }
        },
        "action": {
            "type": "Custom",
            "param": {
                "custom_action": "LeftClickWithCtrlDown"
            }
        },
        "$__mpe_code": {
            "position": {
                "x": 600,
                "y": 1
            }
        },
        "next": [
            "[JumpBack]ItemTransferEnterRegionSwitcher",
            "ItemTransferClickDestination"
        ]
    },
    "ItemTransferEnterRegionSwitcher": {
        "doc": " è¿›å…¥ç‰©å“è½¬ç§»åŒºåŸŸåˆ‡æ¢ç•Œé¢ã€‚",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    545,
                    97,
                    199,
                    87
                ],
                "template": "ItemTransfer/SwitcherEntry.png",
                "order_by": "Score"
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "$__mpe_code": {
            "position": {
                "x": 2004,
                "y": 629
            }
        }
    },
    "ItemTransferRegionSwitcherConfirm": {
        "post_wait_freezes": {
            "time": 200,
            "target": [
                153,
                548,
                969,
                64
            ]
        },
        "doc": "ç¡®è®¤åŒºåŸŸåˆ‡æ¢ã€‚",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    905,
                    536,
                    219,
                    88
                ],
                "template": "ItemTransfer/Switcher.png",
                "order_by": "Score"
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "$__mpe_code": {
            "position": {
                "x": 1232,
                "y": 506
            }
        },
        "next": [
            "ItemTransferCloseRegionSwitcher"
        ]
    },
    "ItemTransferCloseRegionSwitcher": {
        "doc": "å…³é—­åŒºåŸŸåˆ‡æ¢ç•Œé¢ã€‚",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    905,
                    536,
                    219,
                    88
                ],
                "template": "ItemTransfer/RepoConnected.png",
                "order_by": "Score"
            }
        },
        "action": {
            "type": "ClickKey",
            "param": {
                "key": 27
            }
        },
        "$__mpe_code": {
            "position": {
                "x": 1534,
                "y": 482
            }
        }
    },
    "ItemTransferClickDestination": {
        "doc": "ç‚¹å‡»ç›®æ ‡åŒºåŸŸã€‚",
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    500,
                    200,
                    500,
                    300
                ],
                "order_by": "Expected",
                "expected": "[PLACEHOLDER]"
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "$__mpe_code": {
            "position": {
                "x": 900,
                "y": 519
            }
        },
        "next": [
            "[JumpBack]ItemTransferRegionSwitcherConfirm",
            "ItemTransferAtDestination",
            "ItemTransferClickDestination"
        ]
    },
    "ItemTransferClickOrigin": {
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    500,
                    200,
                    500,
                    300
                ],
                "order_by": "Expected",
                "expected": "[PLACEHOLDER]"
            }
        },
        "action": {
            "type": "Click",
            "param": {}
        },
        "$__mpe_code": {
            "position": {
                "x": 2014,
                "y": 1129
            }
        },
        "next": [
            "[JumpBack]ItemTransferRegionSwitcherConfirm",
            "ItemTransferAtOrigin"
        ]
    },
    "ItemTransferAtDestination": {
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    184,
                    102,
                    131,
                    71
                ],
                "order_by": "Expected",
                "expected": "[PLACEHOLDER]"
            }
        },
        "$__mpe_code": {
            "position": {
                "x": 1200,
                "y": 1117
            }
        },
        "next": [
            "ItemTransferToRepository"
        ]
    },
    "ItemTransferAtOrigin": {
        "recognition": {
            "type": "OCR",
            "param": {
                "roi": [
                    184,
                    102,
                    131,
                    71
                ],
                "order_by": "Expected",
                "expected": "[PLACEHOLDER]"
            }
        },
        "$__mpe_code": {
            "position": {
                "x": 300,
                "y": 72
            }
        },
        "next": [
            "ItemTransferToBackpack"
        ]
    },
    "ItemTransferToRepository": {
        "post_wait_freezes": 10,
        "recognition": {
            "type": "Custom",
            "param": {
                "custom_recognition": "LocateItemInBackpack",
                "custom_recognition_param": {
                    "ItemName": "{ItemParName}",
                    "Category": "{CategoryParName}"
                }
            }
        },
        "action": {
            "type": "Custom",
            "param": {
                "custom_action": "LeftClickWithCtrlDown"
            }
        },
        "$__mpe_code": {
            "position": {
                "x": 1500,
                "y": 1053
            }
        },
        "next": [
            "ItemTransferLimitSentinel"
        ]
    },
    "ItemTransferLimitSentinel": {
        "doc": "å“¨å…µèŠ‚ç‚¹ï¼šæ£€æŸ¥æ˜¯å¦è¾¾åˆ°æ¬è¿æ¬¡æ•°ä¸Šé™ã€‚",
        // é€»è¾‘åˆ†æµ
        "next": [
            "ItemTransferTaskSuccess", // å‘½ä¸­(Hit) -> è¾¾åˆ°ä¸Šé™ -> æˆåŠŸç»“æŸ
            "[JumpBack]ItemTransferEnterRegionSwitcher", // æœªå‘½ä¸­(Miss) -> æ²¡å¤Ÿ -> å›ä¸»å¾ªç¯
            "ItemTransferClickOrigin"
        ]
    },
    "ItemTransferTaskSuccess": {
        "doc": "ä»»åŠ¡æˆåŠŸç»“æŸèŠ‚ç‚¹",
        "recognition": {
            "type": "Custom",
            "param": {
                "custom_recognition": "CheckTransferLimit", // è°ƒç”¨ Go çš„æ£€æŸ¥å‡½æ•°
                "custom_recognition_param": {
                    "MaxTimes": -3 // ğŸ”¥ æ ¸å¿ƒï¼šé»˜è®¤æ˜¯ -1ï¼Œä»£è¡¨â€œæ— æ•ˆ/æœªé…ç½®â€
                }
            }
        },
        "focus": {
            "Node.Recognition.Succeeded": "$ItemTransfer.focus.SuccessMsg"
        }
    },
    // --- åˆ‡æ¢åˆ°ï¼šç´ æ ---
    "ItemTransferSwitchToMaterial": {
        "doc": "è¯†åˆ«å¹¶ç‚¹å‡»[ç´ æ]åˆ†ç±»æ ‡ç­¾",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                // æˆªå–å±å¹•ä¸Šæ–¹åŒ…å«æ ‡ç­¾çš„é‚£ä¸€æ¡åŒºåŸŸå³å¯ï¼Œä¸éœ€è¦å…¨å±æ‰«
                "roi": [
                    261,
                    167,
                    400,
                    41
                ],
                "template": "ItemTransfer/MaterialIcon.png",
                "threshold": 0.8
            }
        },
        "action": "Click",
        // ç‚¹å‡»åæœ€å¥½ç­‰ä¸€ä¸‹ UI åˆ·æ–°ï¼Œé˜²æ­¢ç«‹åˆ»æˆªå›¾æˆªåˆ°æ—§çš„
        "post_wait_freezes": 100
    },
    // --- åˆ‡æ¢åˆ°ï¼šæ¤ç‰© ---
    "ItemTransferSwitchToPlant": {
        "doc": "è¯†åˆ«å¹¶ç‚¹å‡»[æ¤ç‰©]åˆ†ç±»æ ‡ç­¾",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    261,
                    167,
                    400,
                    41
                ],
                "template": "ItemTransfer/PlantIcon.png",
                "threshold": 0.8
            }
        },
        "action": "Click",
        "post_wait_freezes": 100
    },
    // --- åˆ‡æ¢åˆ°ï¼šäº§ç‰© ---
    "ItemTransferSwitchToProduct": {
        "doc": "è¯†åˆ«å¹¶ç‚¹å‡»[å·¥ä¸šäº§ç‰©]åˆ†ç±»æ ‡ç­¾",
        "recognition": {
            "type": "TemplateMatch",
            "param": {
                "roi": [
                    261,
                    167,
                    400,
                    41
                ],
                "template": "ItemTransfer/ProductIcon.png",
                "threshold": 0.8
            }
        },
        "action": "Click",
        "post_wait_freezes": 100
    }
}